var connection = (new signalR.HubConnectionBuilder).withUrl("/Home/Index").build(); connection.on("SessageToPublicChat", addMessageToChat); connection.start()["catch"](function (a) { console.error(a.message) }); function sendMessageToPublicChatToHub(a) { connection.invoke("sendMessageToPublicChat", a) };